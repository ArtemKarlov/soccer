(this["webpackJsonpfootball-app"]=this["webpackJsonpfootball-app"]||[]).push([[0],{26:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a.n(n),r=a(19),i=a.n(r),l=(a(26),a(2)),j=a(4),o=a.p+"static/media/logo-white.8c28a89a.png";function d(){return Object(c.jsxs)("div",{className:"relative text-gray-600",children:[Object(c.jsx)("input",{disabled:!0,className:"box-border border-1 bg-white h-8 px-5 pr-16 rounded text-sm focus:outline-none",type:"search",name:"search",placeholder:"Search"}),Object(c.jsx)("button",{type:"submit",className:"absolute right-0 top-0 py-2 px-2 rounded focus:outline-none hover:text-white hover:bg-blue-400 active:bg-blue-600",children:Object(c.jsx)("svg",{className:"h-4 w-4 fill-current",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 56.966 56.966",width:"512px",height:"512px",children:Object(c.jsx)("path",{d:"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z"})})})]})}var u=function(){var e=Object(l.g)();return Object(c.jsxs)("header",{className:"px-4 flex bg-gray-800",children:[Object(c.jsx)("div",{className:"",children:Object(c.jsx)("img",{src:o,alt:"logo",width:"100px"})}),Object(c.jsxs)("div",{className:" ".concat("/"===e.pathname?"hidden":"flex"," flex-grow justify-end items-center"),children:[Object(c.jsx)("nav",{className:"text-white flex flex-grow justify-center",children:Object(c.jsxs)("ul",{className:"flex space-x-2",children:[Object(c.jsx)("li",{children:Object(c.jsx)(j.c,{to:"/leagues",className:"block py-2 px-3 text-gray-300 rounded-md hover:bg-gray-700",activeClassName:"bg-gray-900",children:"Leagues"})}),Object(c.jsx)("li",{children:Object(c.jsx)(j.c,{to:"/teams",className:"block py-2 px-3 text-gray-300 rounded-md hover:bg-gray-700",activeClassName:"bg-gray-900",children:"Teams"})})]})}),Object(c.jsx)("div",{className:"hidden md:block",children:Object(c.jsx)(d,{})})]})]})},b=a(12),x=a(5);var m=function(e){var t=Object(n.useState)(""),a=Object(x.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)("bg-gray-400"),l=Object(x.a)(i,2),j=l[0],o=l[1];return Object(c.jsxs)("div",{className:"px-20 py-4 w-2/3 space-y-4 mx-auto rounded-md ".concat(j),children:[Object(c.jsx)("h2",{className:"text-black text-lg font-bold text-center",children:"Sing In"}),Object(c.jsxs)("div",{className:"space-y-4 flex flex-col justify-center item-center",children:[Object(c.jsx)("input",{value:s,type:"password",id:"token",name:"token",placeholder:"API Token",required:"required",className:"text-black rounded",onChange:function(e){return r(e.target.value)}}),Object(c.jsx)("button",{className:"py-2 px-3 rounded text-white bg-blue-400 hover:bg-blue-500 active:bg-blue-800 focus:outline-none",onClick:function(){fetch("http://api.football-data.org/v2/competitions/2000",{method:"GET",headers:{"X-Auth-Token":s}}).then((function(t){t.ok&&(e.returnToken(s),e.returnLoggedStatus(!0))}),(function(e){o("bg-red-300"),r("")}))},children:"Sing In"})]}),Object(c.jsx)("div",{children:Object(c.jsxs)("p",{className:"text-sm text-gray-800",children:["If you do not have API Token, please register on"," ",Object(c.jsx)("a",{href:"https://www.football-data.org/client/register",className:"underline text-blue-800",children:"football-data.org"}),"."]})})]})};var h=function(e){var t=e.competition,a=t.emblemUrl?t.emblemUrl:"https://upload.wikimedia.org/wikipedia/commons/b/b7/Flag_of_Europe.svg";return Object(c.jsxs)(n.Fragment,{children:[Object(c.jsx)("div",{className:"w-10 h-10 flex flex-shrink-0 flex-grow-0 justify-center items-center",children:Object(c.jsx)("img",{src:a,alt:"League Logo",className:"h-full w-full object-contain"})}),Object(c.jsx)("h3",{className:"text-xl font-bold",children:t.name})]})};function O(e){var t=e.leagueList;return Object(c.jsx)(n.Fragment,{children:Object(c.jsx)("ul",{className:"max-w-md mx-auto p-2",children:t.map((function(e){return Object(c.jsx)("li",{className:"my-2",children:Object(c.jsx)(j.b,{to:"/leagues/".concat(e.id,"/calendar"),className:"py-2 px-4 space-x-4 flex justify-start items-center bg-gray-600 rounded hover:bg-gray-700 active:bg-gray-800",children:Object(c.jsx)(h,{competition:e})})},e.id)}))})})}function f(e){var t=e.team,a=t.crestUrl?t.crestUrl:o;return Object(c.jsxs)("div",{className:"px-2 py-2 flex space-x-4 justify-between items-center",children:[Object(c.jsx)("span",{className:"text-white text-md",children:t.name}),Object(c.jsx)("div",{className:"h-12 w-12 flex flex-shrink-0 flex-grow-0 justify-center items-center",children:Object(c.jsx)("img",{src:a,alt:"Home Team Logo",className:"object-contain h-full w-full"})})]})}var g=function(e){var t=e.match,a=e.teams,n=a.find((function(e){return e.id===t.homeTeam.id})),s=a.find((function(e){return e.id===t.awayTeam.id}));n=void 0!==n?n:t.homeTeam,s=void 0!==s?s:t.awayTeam;var r=t.score.fullTime,i=new Date(t.utcDate).toLocaleDateString("ru-RU",{weekday:"short",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric"});return Object(c.jsxs)("div",{className:"px-4 bg-gray-600 rounded",children:[Object(c.jsx)("div",{className:"p-1 text-center bg-gray-700 rounded",children:Object(c.jsx)("span",{className:"text-white",children:i})}),Object(c.jsxs)("div",{className:"flex",children:[Object(c.jsxs)("div",{className:"w-48",children:[Object(c.jsx)(f,{team:n}),Object(c.jsx)(f,{team:s})]}),Object(c.jsxs)("div",{className:"w-10 py-4 flex flex-col items-center justify-between",children:[Object(c.jsx)("span",{className:"text-xl text-white",children:r.homeTeam}),Object(c.jsx)("span",{className:"text-xl text-white",children:"--"}),Object(c.jsx)("span",{className:"text-xl text-white",children:r.awayTeam})]})]})]})};function p(e){var t=e.matches,a=e.teams;return Object(c.jsx)("div",{className:"my-4 bg-gray-400 rounded",children:Object(c.jsx)("ul",{className:"py-2 px-1 flex justify-center flex-wrap text-black",children:t.map((function(e){return Object(c.jsx)("li",{className:"my-2 mx-1",children:Object(c.jsx)(g,{match:e,teams:a})},e.id)}))})})}function v(e){var t=Object(n.useState)(""),a=Object(x.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)(""),o=Object(x.a)(i,2),d=o[0],u=o[1],b=Object(l.g)(),m=new Date(s);m.setDate(m.getDate()+360);var h=g(m),O=new Date(d);O.setDate(O.getDate()-360);var f=g(O);function g(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}return Object(c.jsxs)("div",{className:"p-2 bg-gray-400 rounded flex justify-start items-center space-x-3",children:[Object(c.jsxs)("label",{className:"text-gray-800",children:[Object(c.jsx)("span",{children:"From: "}),Object(c.jsx)("input",{id:"dateFrom",type:"date",value:s,min:f,max:d,className:"h-8 py-1 text-sm text-gray-800 rounded",onChange:function(e){return r(e.target.value)}})]}),Object(c.jsxs)("label",{className:"text-gray-800",children:[Object(c.jsx)("span",{children:"To: "}),Object(c.jsx)("input",{id:"dateTo",type:"date",value:d,min:s,max:h,className:"h-8 py-1 text-sm text-gray-800 rounded",onChange:function(e){return u(e.target.value)}})]}),Object(c.jsx)(j.b,{to:"".concat(b.pathname,"?dateFrom=").concat(s||(d?f:""),"&dateTo=").concat(d||(s?h:"")),className:"py-1 px-4 rounded space-x-4 flex justify-start items-center bg-blue-400 hover:bg-blue-500 active:bg-blue-800",onClick:function(){e.handleClick()},children:"Search"})]})}var y="http://api.football-data.org";function N(e){var t=Object(n.useState)([]),a=Object(x.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)(!1),j=Object(x.a)(i,2),o=j[0],d=j[1],u=e.calendarOwners,m=e.API_TOKEN,h=e.type,O=e.teams,f=Object(l.h)().id,g=u.find((function(e){return e.id===parseInt(f,10)})),N=Object(l.g)(),w=new URL("v2/".concat(h,"/").concat(f,"/matches"),y);return Object(n.useEffect)((function(){if(!o){var e=new URLSearchParams(N.search).get("dateFrom"),t=new URLSearchParams(N.search).get("dateTo");w.searchParams.append("dateFrom",null!==e?e:""),w.searchParams.append("dateTo",null!==t?t:""),fetch(w,{method:"GET",headers:{"X-Auth-Token":m}}).then((function(e){return e.json()})).then((function(e){r(Object(b.a)(e.matches))})),d(!0)}})),Object(c.jsxs)(n.Fragment,{children:[Object(c.jsx)("div",{className:"pt-0 pb-4 px-10",children:Object(c.jsx)("p",{className:"font-bold text-xl text-gray-800 text-center",children:g.name})}),Object(c.jsx)(v,{handleClick:function(){d(!1)}}),Object(c.jsx)(p,{matches:s,teams:O})]})}function w(e){var t=e.token,a=e.leagueList,s=e.teamList,r=e.returnLeagueList,i=e.returnTeamList,j=new URL("v2/competitions",y);j.searchParams.append("plan","TIER_ONE"),j.searchParams.append("areas","2077");var o=new URL("v2/teams",y);return Object(n.useEffect)((function(){0===a.length&&fetch(j,{method:"GET",headers:{"X-Auth-Token":t}}).then((function(e){return e.json()})).then((function(e){r(e.competitions)})),0===s.length&&fetch(o,{method:"GET",headers:{"X-Auth-Token":t}}).then((function(e){return e.json()})).then((function(e){i(e.teams)}))})),Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:"/leagues",children:Object(c.jsx)(O,{leagueList:a})}),Object(c.jsx)(l.b,{path:"/leagues/:id/calendar",children:Object(c.jsx)(N,{type:"competitions",API_TOKEN:t,teams:s,calendarOwners:a})}),Object(c.jsx)(l.b,{path:"/leagues/:leagueId/calendar",render:function(e){return Object(c.jsx)("div",{children:Object(c.jsxs)("p",{className:"text-black",children:[" hello ",e.match.params.leagueId]})})}})]})}var T=function(e){var t=e.team,a=t.crestUrl?t.crestUrl:o;return Object(c.jsxs)(n.Fragment,{children:[Object(c.jsx)("div",{className:"w-10 h-10 flex flex-shrink-0 flex-grow-0 justify-center items-center",children:Object(c.jsx)("img",{src:a,alt:"Logo",className:"h-full w-full object-contain"})}),Object(c.jsx)("h3",{className:"text-xl font-bold",children:t.name})]})};var k=function(e){var t=e.teamList;return Object(c.jsx)("ul",{className:"max-w-md mx-auto p-2",children:t.map((function(e){return Object(c.jsx)("li",{className:"my-2",children:Object(c.jsx)(j.b,{to:"/teams/".concat(e.id,"/calendar"),className:"py-2 px-4 space-x-4 flex justify-start items-center bg-gray-600 rounded hover:bg-gray-700 active:bg-gray-800",children:Object(c.jsx)(T,{team:e})})},e.id)}))})};function L(e){var t=e.token,a=e.teamList,s=e.returnTeamList,r=new URL("v2/teams",y);return Object(n.useEffect)((function(){0===a.length&&fetch(r,{method:"GET",headers:{"X-Auth-Token":t}}).then((function(e){return e.json()})).then((function(e){s(e.teams)}))})),Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:"/teams",children:Object(c.jsx)(k,{teamList:a})}),Object(c.jsx)(l.b,{path:"/teams/:id/calendar",children:Object(c.jsx)(N,{type:"teams",API_TOKEN:t,teams:a,calendarOwners:a})})]})}var S=function(){var e=Object(n.useState)(!1),t=Object(x.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(""),i=Object(x.a)(r,2),j=i[0],o=i[1],d=Object(n.useState)([]),u=Object(x.a)(d,2),h=u[0],O=u[1],f=Object(n.useState)([]),g=Object(x.a)(f,2),p=g[0],v=g[1],y=function(e){v(Object(b.a)(e))};return Object(c.jsx)("main",{className:"px-20 py-8 mb-auto",children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:"/",children:a?Object(c.jsx)(l.a,{to:"/leagues"}):Object(c.jsx)(m,{returnToken:function(e){o(e)},returnLoggedStatus:function(e){s(e)}})}),Object(c.jsx)(l.b,{path:"/leagues",children:Object(c.jsx)(w,{token:j,leagueList:h,teamList:p,returnLeagueList:function(e){O(Object(b.a)(e))},returnTeamList:y})}),Object(c.jsx)(l.b,{path:"/teams",children:Object(c.jsx)(L,{token:j,teamList:p,returnTeamList:y})})]})})};var E=function(){return Object(c.jsx)("footer",{className:"px-4 h-16 bg-gray-800",children:Object(c.jsx)("p",{children:"2021 SimbirSoft Test"})})};var F=function(){return Object(c.jsxs)("div",{className:"container mx-auto flex flex-col justify-between min-h-screen bg-gray-200 text-white",children:[Object(c.jsx)(u,{}),Object(c.jsx)(S,{}),Object(c.jsx)(E,{})]})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,33)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(j.a,{children:Object(c.jsx)(F,{})})}),document.getElementById("root")),C()}},[[32,1,2]]]);
//# sourceMappingURL=main.451cfd77.chunk.js.map