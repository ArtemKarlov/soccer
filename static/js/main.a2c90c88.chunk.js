(this["webpackJsonpfootball-app"]=this["webpackJsonpfootball-app"]||[]).push([[0],{26:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(1),n=a.n(s),r=a(19),l=a.n(r),i=(a(26),a(2)),j=a(4),o=a.p+"static/media/logo-white.8c28a89a.png";function d(){return Object(c.jsxs)("div",{className:"relative text-gray-600",children:[Object(c.jsx)("input",{disabled:!0,className:"box-border border-1 bg-white h-8 px-5 pr-16 rounded text-sm focus:outline-none",type:"search",name:"search",placeholder:"Search"}),Object(c.jsx)("button",{type:"submit",className:"absolute right-0 top-0 py-2 px-2 rounded focus:outline-none hover:text-white hover:bg-blue-400 active:bg-blue-600",children:Object(c.jsx)("svg",{className:"h-4 w-4 fill-current",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 56.966 56.966",width:"512px",height:"512px",children:Object(c.jsx)("path",{d:"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z"})})})]})}var b=function(){var e=Object(i.g)();return Object(c.jsxs)("header",{className:"px-4 flex bg-gray-800",children:[Object(c.jsx)("div",{className:"",children:Object(c.jsx)("img",{src:o,alt:"logo",width:"100px"})}),Object(c.jsxs)("div",{className:" ".concat("/"===e.pathname?"hidden":"flex"," flex-grow justify-end items-center"),children:[Object(c.jsx)("nav",{className:"text-white flex flex-grow justify-center",children:Object(c.jsxs)("ul",{className:"flex space-x-2",children:[Object(c.jsx)("li",{children:Object(c.jsx)(j.c,{to:"/leagues",className:"block py-2 px-3 text-gray-300 rounded-md hover:bg-gray-700",activeClassName:"bg-gray-900",children:"Leagues"})}),Object(c.jsx)("li",{children:Object(c.jsx)(j.c,{to:"/teams",className:"block py-2 px-3 text-gray-300 rounded-md hover:bg-gray-700",activeClassName:"bg-gray-900",children:"Teams"})})]})}),Object(c.jsx)("div",{className:"hidden md:block",children:Object(c.jsx)(d,{})})]})]})},u=a(12),x=a(5),m="https://api.football-data.org/v2/",h="873a7beac6284548acc0a6aac3e3f99a";var O=function(e){var t=Object(s.useState)(""),a=Object(x.a)(t,2),n=a[0],r=a[1],l=Object(s.useState)("bg-gray-400"),i=Object(x.a)(l,2),j=i[0],o=i[1];return Object(c.jsxs)("div",{className:"px-20 py-4 w-2/3 space-y-4 mx-auto rounded-md ".concat(j),children:[Object(c.jsx)("h2",{className:"text-black text-lg font-bold text-center",children:"Sing In"}),Object(c.jsxs)("div",{className:"space-y-4 flex flex-col justify-center item-center",children:[Object(c.jsx)("input",{value:n,type:"password",id:"token",name:"token",placeholder:"API Token",required:"required",className:"text-black rounded",onChange:function(e){return r(e.target.value)}}),Object(c.jsx)("button",{className:"py-2 px-3 rounded text-white bg-blue-400 hover:bg-blue-500 active:bg-blue-800 focus:outline-none",onClick:function(){fetch("".concat(m,"competitions/2000"),{method:"GET",headers:{"X-Auth-Token":n}}).then((function(t){t.ok&&(e.returnToken(n),e.returnLoggedStatus(!0))}),(function(e){o("bg-red-300"),r("")}))},children:"Sing In"})]}),Object(c.jsx)("div",{children:Object(c.jsxs)("p",{className:"text-sm text-gray-800",children:["If you do not have API Token, please register on"," ",Object(c.jsx)("a",{href:"https://www.football-data.org/client/register",className:"underline text-blue-800",children:"football-data.org"}),"."]})})]})};var g=function(e){var t=e.competition,a=t.emblemUrl?t.emblemUrl:"https://upload.wikimedia.org/wikipedia/commons/b/b7/Flag_of_Europe.svg";return Object(c.jsxs)(s.Fragment,{children:[Object(c.jsx)("div",{className:"w-10 h-10 flex flex-shrink-0 flex-grow-0 justify-center items-center",children:Object(c.jsx)("img",{src:a,alt:"League Logo",className:"h-full w-full object-contain"})}),Object(c.jsx)("h3",{className:"text-xl font-bold",children:t.name})]})};function f(e){var t=e.leagueList;return Object(c.jsx)(s.Fragment,{children:Object(c.jsx)("ul",{className:"max-w-md mx-auto p-2",children:t.map((function(e){return Object(c.jsx)("li",{className:"my-2",children:Object(c.jsx)(j.b,{to:"/leagues/".concat(e.id,"/calendar"),className:"py-2 px-4 space-x-4 flex justify-start items-center bg-gray-600 rounded hover:bg-gray-700 active:bg-gray-800",children:Object(c.jsx)(g,{competition:e})})},e.id)}))})})}function p(e){var t=e.team,a=t.crestUrl?t.crestUrl:o;return Object(c.jsxs)("div",{className:"px-2 py-2 flex space-x-4 justify-between items-center",children:[Object(c.jsx)("span",{className:"text-white text-md",children:t.name}),Object(c.jsx)("div",{className:"h-12 w-12 flex flex-shrink-0 flex-grow-0 justify-center items-center",children:Object(c.jsx)("img",{src:a,alt:"Home Team Logo",className:"object-contain h-full w-full"})})]})}var v=function(e){var t=e.match,a=e.teams,s=a.find((function(e){return e.id===t.homeTeam.id})),n=a.find((function(e){return e.id===t.awayTeam.id}));s=void 0!==s?s:t.homeTeam,n=void 0!==n?n:t.awayTeam;var r=t.score.fullTime,l=new Date(t.utcDate).toLocaleDateString("ru-RU",{weekday:"short",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric"});return Object(c.jsxs)("div",{className:"px-4 bg-gray-600 rounded",children:[Object(c.jsx)("div",{className:"p-1 text-center bg-gray-700 rounded",children:Object(c.jsx)("span",{className:"text-white",children:l})}),Object(c.jsxs)("div",{className:"flex",children:[Object(c.jsxs)("div",{className:"w-48",children:[Object(c.jsx)(p,{team:s}),Object(c.jsx)(p,{team:n})]}),Object(c.jsxs)("div",{className:"w-10 py-4 flex flex-col items-center justify-between",children:[Object(c.jsx)("span",{className:"text-xl text-white",children:r.homeTeam}),Object(c.jsx)("span",{className:"text-xl text-white",children:"--"}),Object(c.jsx)("span",{className:"text-xl text-white",children:r.awayTeam})]})]})]})};function y(e){var t=e.matches,a=e.teams;return Object(c.jsx)("div",{className:"my-4 bg-gray-400 rounded",children:Object(c.jsx)("ul",{className:"py-2 px-1 flex justify-center flex-wrap text-black",children:t.map((function(e){return Object(c.jsx)("li",{className:"my-2 mx-1",children:Object(c.jsx)(v,{match:e,teams:a})},e.id)}))})})}function N(e){var t=Object(s.useState)(""),a=Object(x.a)(t,2),n=a[0],r=a[1],l=Object(s.useState)(""),o=Object(x.a)(l,2),d=o[0],b=o[1],u=Object(i.g)(),m=new Date(n);m.setDate(m.getDate()+360);var h=f(m),O=new Date(d);O.setDate(O.getDate()-360);var g=f(O);function f(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}return Object(c.jsxs)("div",{className:"p-2 bg-gray-400 rounded flex justify-start items-center space-x-3",children:[Object(c.jsxs)("label",{className:"text-gray-800",children:[Object(c.jsx)("span",{children:"From: "}),Object(c.jsx)("input",{id:"dateFrom",type:"date",value:n,min:g,max:d,className:"h-8 py-1 text-sm text-gray-800 rounded",onChange:function(e){return r(e.target.value)}})]}),Object(c.jsxs)("label",{className:"text-gray-800",children:[Object(c.jsx)("span",{children:"To: "}),Object(c.jsx)("input",{id:"dateTo",type:"date",value:d,min:n,max:h,className:"h-8 py-1 text-sm text-gray-800 rounded",onChange:function(e){return b(e.target.value)}})]}),Object(c.jsx)(j.b,{to:"".concat(u.pathname,"?dateFrom=").concat(n||(d?g:""),"&dateTo=").concat(d||(n?h:"")),className:"py-1 px-4 rounded space-x-4 flex justify-start items-center bg-blue-400 hover:bg-blue-500 active:bg-blue-800",onClick:function(){e.handleClick()},children:"Search"})]})}function w(e){var t=Object(s.useState)([]),a=Object(x.a)(t,2),n=a[0],r=a[1],l=Object(s.useState)(!1),j=Object(x.a)(l,2),o=j[0],d=j[1],b=Object(s.useState)(""),O=Object(x.a)(b,2),g=O[0],f=(O[1],e.calendarOwners),p=e.type,v=e.teams,w=Object(i.h)().id;console.log(f);var T=Object(i.g)(),L=new URL("".concat(p,"/").concat(w,"/matches"),m);return Object(s.useEffect)((function(){var e=new URLSearchParams(T.search).get("dateFrom"),t=new URLSearchParams(T.search).get("dateTo");L.searchParams.append("dateFrom",null!==e?e:""),L.searchParams.append("dateTo",null!==t?t:""),fetch(L,{method:"GET",headers:{"X-Auth-Token":h}}).then((function(e){return e.json()})).then((function(e){r(Object(u.a)(e.matches))})),d(!0)}),[o]),Object(c.jsxs)(s.Fragment,{children:[Object(c.jsx)("div",{className:"pt-0 pb-4 px-10",children:Object(c.jsx)("p",{className:"font-bold text-xl text-gray-800 text-center",children:g})}),Object(c.jsx)(N,{handleClick:function(){d(!1)}}),Object(c.jsx)(y,{matches:n,teams:v})]})}function T(e){var t=e.leagueList,a=e.teamList,n=e.returnLeagueList,r=e.returnTeamList,l=new URL("competitions",m);l.searchParams.append("plan","TIER_ONE"),l.searchParams.append("areas","2077");var j=new URL("teams",m);return Object(s.useEffect)((function(){0===t.length&&fetch(l,{method:"GET",headers:{"X-Auth-Token":h}}).then((function(e){return e.json()})).then((function(e){n(e.competitions)})),0===a.length&&fetch(j,{method:"GET",headers:{"X-Auth-Token":h}}).then((function(e){return e.json()})).then((function(e){r(e.teams)}))})),Object(c.jsxs)(i.d,{children:[Object(c.jsx)(i.b,{exact:!0,path:"/leagues",children:Object(c.jsx)(f,{leagueList:t})}),Object(c.jsx)(i.b,{path:"/leagues/:id/calendar",children:Object(c.jsx)(w,{type:"competitions",API_TOKEN:h,teams:a,calendarOwners:t})}),Object(c.jsx)(i.b,{path:"/leagues/:leagueId/calendar",render:function(e){return Object(c.jsx)("div",{children:Object(c.jsxs)("p",{className:"text-black",children:[" hello ",e.match.params.leagueId]})})}})]})}var L=function(e){var t=e.team,a=t.crestUrl?t.crestUrl:o;return Object(c.jsxs)(s.Fragment,{children:[Object(c.jsx)("div",{className:"w-10 h-10 flex flex-shrink-0 flex-grow-0 justify-center items-center",children:Object(c.jsx)("img",{src:a,alt:"Logo",className:"h-full w-full object-contain"})}),Object(c.jsx)("h3",{className:"text-xl font-bold",children:t.name})]})};var k=function(e){var t=e.teamList;return Object(c.jsx)("ul",{className:"max-w-md mx-auto p-2",children:t.map((function(e){return Object(c.jsx)("li",{className:"my-2",children:Object(c.jsx)(j.b,{to:"/teams/".concat(e.id,"/calendar"),className:"py-2 px-4 space-x-4 flex justify-start items-center bg-gray-600 rounded hover:bg-gray-700 active:bg-gray-800",children:Object(c.jsx)(L,{team:e})})},e.id)}))})};function S(e){var t=e.teamList,a=e.returnTeamList,n=new URL("teams",m);return Object(s.useEffect)((function(){0===t.length&&fetch(n,{method:"GET",headers:{"X-Auth-Token":h}}).then((function(e){return e.json()})).then((function(e){a(e.teams)}))})),Object(c.jsxs)(i.d,{children:[Object(c.jsx)(i.b,{exact:!0,path:"/teams",children:Object(c.jsx)(k,{teamList:t})}),Object(c.jsx)(i.b,{path:"/teams/:id/calendar",children:Object(c.jsx)(w,{type:"teams",API_TOKEN:h,teams:t,calendarOwners:t})})]})}var F=function(){var e=Object(s.useState)(!0),t=Object(x.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(""),l=Object(x.a)(r,2),j=(l[0],l[1]),o=Object(s.useState)([]),d=Object(x.a)(o,2),b=d[0],m=d[1],h=Object(s.useState)([]),g=Object(x.a)(h,2),f=g[0],p=g[1],v=function(e){p(Object(u.a)(e))};return Object(c.jsx)("main",{className:"px-20 py-8 mb-auto",children:Object(c.jsxs)(i.d,{children:[Object(c.jsx)(i.b,{exact:!0,path:"/",children:a?Object(c.jsx)(i.a,{to:"/leagues"}):Object(c.jsx)(O,{returnToken:function(e){j(e)},returnLoggedStatus:function(e){n(e)}})}),Object(c.jsx)(i.b,{path:"/leagues",children:Object(c.jsx)(T,{leagueList:b,teamList:f,returnLeagueList:function(e){m(Object(u.a)(e))},returnTeamList:v})}),Object(c.jsx)(i.b,{path:"/teams",children:Object(c.jsx)(S,{teamList:f,returnTeamList:v})})]})})};var C=function(){return Object(c.jsx)("footer",{className:"px-4 h-16 bg-gray-800",children:Object(c.jsx)("p",{children:"2021 SimbirSoft Test"})})};var E=function(){return Object(c.jsxs)("div",{className:"container mx-auto flex flex-col justify-between min-h-screen bg-gray-200 text-white",children:[Object(c.jsx)(b,{}),Object(c.jsx)(F,{}),Object(c.jsx)(C,{})]})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,33)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};l.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(j.a,{basename:"/soccer",children:Object(c.jsx)(E,{})})}),document.getElementById("root")),U()}},[[32,1,2]]]);
//# sourceMappingURL=main.a2c90c88.chunk.js.map